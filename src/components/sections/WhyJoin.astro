---
import { IDS } from "../../data/site";

// Load Why Join content from Markdown
const [{ Content, frontmatter: fm }] = await Astro.glob("../../data/why-join.md");
const items = (fm?.items ?? []) as { title: string; text: string; colSpan?: number }[];
---

<section id={IDS.whyJoin} class="py-16">
  <div class="container mx-auto px-4 max-w-6xl">
    <div class="mb-8">
      <h2 class="text-3xl font-bold text-center">{fm?.title ?? "Why Join Cub Scouts?"}</h2>
      {fm?.intro && (
        <p class="mt-4 text-lg">
          {fm.intro}
        </p>
      )}
    </div>

    <ul class="grid gap-4 md:grid-cols-2">
      {items.map((it) => (
        <li class={`card bg-base-200 ${it.colSpan === 2 ? "md:col-span-2" : ""}`}>
          <div class="card-body">
            <h3 class="card-title">{it.title}</h3>
            <p>{it.text}</p>
          </div>
        </li>
      ))}
    </ul>

    <div class="mt-8 text-lg prose max-w-none">
      <Content />
    </div>
  </div>
</section>